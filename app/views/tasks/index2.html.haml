
<h1>Tasks</h1>

<% if @task.errors.any? %>
  <h3>Please fix these errors:</h3>
  <ul>
    <% @task.errors.full_messages.each do |message| %>
      <li><%= message %> </li>
    <% end %>
  </ul>
<% end %>

<form action ="/tasks" method ="post">
  <input id="task_description" name="description" type="text" value="<%= @task.description %>">
  <button>Add</button>
</form>

<ul>
  <% Task.not_done.each do |task| %>
    <li>
      <a href= "/tasks/<%= task.id%>"><%= task.description %></a>
      <form action="/tasks/<%= task.id %>" method="post" style="display:inline-block">
        <input name="_method" type="hidden" value="patch">
        <input name="description" type="hidden" value="<%=task.description%>">
        <input name="done" type="hidden" value="true">
        <button>Mark done</button>
      </form>
    </li></br>
  <% end %>
</ul>

<ul>
  <% Task.done.each do |task| %>
    <li>
      <a href= "/tasks/<%= task.id%>"><%= task.description %></a> - done
    </li></br>
  <% end %>
</ul>




